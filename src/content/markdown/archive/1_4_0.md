# Изменения в версии 1.4

## Улучшения отладчика

Плагин отладчика для Visual Studio Code существенно переработан. Реализована поддержка отладки веб-приложений на 1Script.Web.

Кроме того, для веб-приложений реализован режим attach, который позволяет подключиться к уже работающему веб-приложению. Для этого приложение должно быть запущено в режиме отладки с ключом `--debug.port=порт_отладки`

Для использования нового протокола отладчика в файле launch.json необходимо указать `"protocol": "tcp"` Старый протокол на базе WCF оставлен для совместимости

## Прочие изменения

* Выделена отдельная сборка OneScript.DebugServices, предназначенная для подключения отладчика к сторонним приложениям, испольщующим 1Script. Поставляется через NuGet
* Добавлена возможность передачи переменных среды в отлаживаемое приложение. См свойство `env` в файле launch.json
* Улучшено отображение COM-объектов в отладчике
* Улучшено отображение свойств объектов в отладчике. Больше не отображается свойство ЭтотОбъект.
* Исправлена ошибка метода Записать() класса БуферДвоичныхДанных (BinaryBuffer.Write()): Не учитывалась начальная позиция записи и запись происходила с 0 позиции целевого буфера.
* Улучшена всплывающая подсказка при наведении на переменную в отладчике.
* Добавлена обработка заголовка "Range" объекта HTTPЗапрос.
* Для методов массива "Добавить" и "Вставить" реализовано необязательное указание параметра "Значение", поведение приведено в соответствие с поведением в 1С.
* Обновление поставляемой версии opm до 0.16.2
* Пакет oscript-config включен в поставку
* Улучшено отображение дерева значений в отладчике
* Исправлена ошибка, возникающая при явном указании направления сортировки ВОЗР в таблице значений
* Исправлена ошибка приведения типов к Булево при коротком вычислении выражений
* Исправлена ошибка метода "Извлечь" класса "ЧтениеZipФайла": в случае файла с некорректным указанием размера/контрольной суммы выбрасывалось исключение и создавался файл со случайным именем, в 1С (или с использованием архиватора) исключение возникает, но файл создается с корректным именем.
* Исправлена ошибка вывода длинных текстовых значений переменных в отладчике