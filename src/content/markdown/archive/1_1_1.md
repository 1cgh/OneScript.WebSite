# Организационные изменения

Проект перешел на [semantic versioning](https://semver.org/lang/ru/) с трехзначной идентификацией основного номера релиза. Теперь команде станет проще выпускать релизы, а сообществу - идентифицировать уровни изменений.

# Изменения в версии 1.1

## Новые возможности

* Добавлена поддерка XML-схем. Реализован класс `XMLСхема` и ему сопутствующие (спасибо [yukon39](https://github.com/yukon39) за масштабную доработку)
* Добавлена функциональность "Макетов". Теперь можно упаковывать в EXE не только скриптовый код, но и произвольные данные, а затем обращаться к ним единообразно
* Оптимизирован метод `Свернуть` таблицы значений
* Реализована поддержка dynamic в объектах 1Script. Упрощено встраивание в приложения .NET
* Реализована локализация выводимых ошибок в зависимости от языка системы. Добавлен конфигурационный параметр `systemlanguage` в oscript.cfg (спасибо [alexkmbk](https://github.com/alexkmbk)).
* В СоединениеHTTP всегда используется автоматический редирект. Реализовано свойство `РазрешитьАвтоматическоеПеренаправление` для управления редиректом (спасибо [Vladimir Bondarevskiy](https://github.com/vbondarevsky))
* В соединении HTTP реализована автоматическая распаковка ответов, закодированных в gzip (спасибо [Vladimir Bondarevskiy](https://github.com/vbondarevsky))
* Оптимизирована производительность оператора `Новый`
* Реализована часть ранее не реализованных методов в классах работы с двоичными данными
* Реализовано управление кодировкой ZIP-архивов. Добавлено системное перечисление `КодировкаИменФайловВZipФайле`
* Много других мелких улучшений.


## Исправление ошибок

Благодаря [Michael Rybakin](https://github.com/Mr-Rm) в релизе исправлено множество самых разных ошибок, включая несоответствия поведению 1С на необычных сценариях.

* Внутреннее представление даты содержит микросекунды и искажает сравнение дат
* Некорректная работа метода `СписокЗначений.СортироватьПоПредставлению`
* Исправлена рефлексия типов при работе под Mono+Linux
* Повторяюшиеся имена колонок `ТаблицыЗначений` добавляются в список колонок
* Метод Массив.Вставить расширяет границы массива при вставке за пределы массива
* Не работает конструктор объекта `ЧтениеДанных` и `ЗаписьДанных` при указании параметров дальше 2-го
* Отсутствовал конструктор массива по фиксированному массиву
* Некорректно отображались значения `СтрокиТаблицыЗначений` в отладчике
* Поведение метода `Удалить` структуры не соответствовало 1С при удалении несуществующего свойства
* Некорректное экранирование символов / и \ при работе с JSON
* Некорректное поведение методов `DataReader.ReadIntoBinaryDataBuffer`, `DataReader.ReadIntoBinaryDataBuffer(Count)`, `MemoryStream.CloseAndGetBinaryData`.
* Не было реализовано побайтовое сравнение двоичных данных оператором равенства
* Поведение метода Pow для возведения в степень приведено в соответствие с 1С
* Литерал даты из одних нулей в 1С распознается, как корректный. Приведено поведение к 1С
* Строковое представление двоичных данных не работало в Linux. Под Win не соответствовало 1С
* Функция `Формат` зависала на некоторых форматных строках
* Исправлена ошибка функции `Цел` на больших числах
